(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(7),s=n.n(c),r=(n(14),n(8)),i=n(1),u=n(2),l=n(4),m=n(3),p=n(5),h=(n(15),function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.props.inputElement.current.focus()}},{key:"render",value:function(){return o.a.createElement("div",{className:"stockList"},o.a.createElement("div",{className:"header"},o.a.createElement("form",{onSubmit:this.props.addStock},o.a.createElement("input",{placeholder:"Stock",ref:this.props.inputElement,value:this.props.currentItem.text,onChange:this.props.handleInput}),o.a.createElement("button",{type:"submit"}," Add Stock "))))}}]),e}(a.Component)),d=function(t){var e=t.symbol,n=t.name,a=t.price;return o.a.createElement("li",{className:"stock",ref:o.a.createRef()},o.a.createElement("strong",null,e)," ",o.a.createElement("strong",null,n)," ",o.a.createElement("em",null,a))},k=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;console.log(this.props.stockData);var e=Object.keys(this.props.stockData).map((function(e){return o.a.createElement(d,{symbol:t.props.stockData[e].symbol,name:t.props.stockData[e].name,price:Math.random()})}));return o.a.createElement("ul",null,e)}}]),e}(a.Component),f="ws://localhost:9000/ws",b=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).ws=new WebSocket(f),n.addStock=function(t){t.preventDefault();var e=n.state.currentItem;""!==e.text&&(console.log(e),n.setState((function(t){return{stockSymbols:[e].concat(Object(r.a)(t.stockSymbols))}})),n.ws.send(JSON.stringify(n.state.stockSymbols)))},n.updateStocks=function(t){n.setState((function(e){return{stockData:t}}))},n.submitStock=function(t){n.addStock(t),n.ws.send(JSON.stringify(n.state.stockSymbols))},n.handleInput=function(t){var e={text:t.target.value};n.setState({currentItem:e})},n.inputElement=o.a.createRef(),n.state={stockSymbols:["GOOGL","AAPL"],stockData:[],currentItem:{text:""}},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.ws.onopen=function(){console.log("Got our websocket connection")},this.ws.onmessage=function(e){var n=JSON.parse(e.data);t.updateStocks(n),t.render(o.a.createElement(k,{stockData:t.state.stockData}))},this.ws.onclose=function(){console.log("Websocket connection closed"),t.setState({ws:new WebSocket(f)})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(h,{addStock:this.addStock,inputElement:this.inputElement,handleInput:this.handleInput,currentItem:this.state.currentItem}),o.a.createElement(k,{stockData:this.state.stockData}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.8a174442.chunk.js.map